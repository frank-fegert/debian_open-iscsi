commit ab3f6ad7328308d43bdeb3cc761b1048fe0e4805
Author: Mike Christie <mchristi@redhat.com>
Date:   Mon Jan 31 20:31:32 2011 -0600

    iscsi tools: disable isns dsa code
    
    For discovery we do not use the isns dsa code but
    still build against libcrypto. This disables the code
    until we add support.

Index: open-iscsi/Makefile
===================================================================
--- open-iscsi.orig/Makefile	2011-08-25 18:03:58.000000000 +0530
+++ open-iscsi/Makefile	2011-08-25 18:19:07.731118189 +0530
@@ -27,7 +27,7 @@
 all: user kernel
 
 user: ;
-	cd utils/open-isns; ./configure; $(MAKE)
+	cd utils/open-isns; ./configure --with-security=no; $(MAKE)
 	$(MAKE) -C utils/sysdeps
 	$(MAKE) -C utils/fwparam_ibft
 	$(MAKE) -C usr
Index: open-iscsi/usr/Makefile
===================================================================
--- open-iscsi.orig/usr/Makefile	2011-08-25 18:03:58.000000000 +0530
+++ open-iscsi/usr/Makefile	2011-08-25 18:19:57.956066006 +0530
@@ -53,10 +53,10 @@
 
 iscsid: $(ISCSI_LIB_SRCS) $(IPC_OBJ) $(INITIATOR_SRCS) $(DISCOVERY_SRCS) \
 	iscsid.o session_mgmt.o discoveryd.o
-	$(CC) $(CFLAGS) $^ -o $@ -L../utils/open-isns -lisns -lcrypto
+	$(CC) $(CFLAGS) $^ -o $@ -L../utils/open-isns -lisns
 
 iscsiadm: $(ISCSI_LIB_SRCS) $(DISCOVERY_SRCS) iscsiadm.o session_mgmt.o
-	$(CC) $(CFLAGS) $^ -o $@ -L../utils/open-isns -lisns -lcrypto
+	$(CC) $(CFLAGS) $^ -o $@ -L../utils/open-isns -lisns
 
 iscsistart: $(IPC_OBJ) $(ISCSI_LIB_SRCS) $(INITIATOR_SRCS) $(FW_BOOT_SRCS) \
 		iscsistart.o statics.o
Index: open-iscsi/utils/open-isns/Makefile.in
===================================================================
--- open-iscsi.orig/utils/open-isns/Makefile.in	2011-08-25 18:03:58.000000000 +0530
+++ open-iscsi/utils/open-isns/Makefile.in	2011-08-25 18:20:41.808892460 +0530
@@ -32,7 +32,6 @@
 	  security.o \
 	  authblock.o \
 	  policy.o \
-	  pki.o \
 	  register.o \
 	  query.o \
 	  getnext.o \
